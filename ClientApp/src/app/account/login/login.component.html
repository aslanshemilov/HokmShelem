<div class="container">
    <div class="d-flex justify-content-center">
        <div class="col-12 col-lg-5">
            <main class="form-signin">
                <form [formGroup]="loginForm" (ngSubmit)="login()">
                    <div class="text-center mb-4">
                        <h3 class="mb-3 font-weight-normal">Login</h3>
                    </div>

                    <app-text-input
                        [formControl]="$any(loginForm.controls['userName'])"
                        [label]="'Email or Username'"
                        [submitted]="submitted"></app-text-input>

                    <app-text-input
                        [formControl]="$any(loginForm.controls['password'])"
                        [label]="'Password'"
                        [submitted]="submitted"
                        [type]="'password'"></app-text-input>

                    <div class="form-floating" *ngIf="apiResponse">
                        <app-validation-messages
                            [apiResponse]="apiResponse"></app-validation-messages>
                        <a class="btn btn-link"
                            (click)="resendEmailConfirmationLink()"
                            *ngIf="apiResponse && apiResponse.errors && apiResponse.errors[0].includes('Please confirm your email')">
                            Click here to resend email confirmaiton link in case
                            you didn't receive it.
                        </a>
                    </div>

                    <div class="d-grid mt-4 px-1">
                        <button class="btn btn-lg btn-info" type="submit">Log
                            in</button>
                    </div>
                </form>

                <div class="mt-3 text-center">
                    <a class="btn btn-link"
                        routerLink="/account/send-email/forgot-username-or-password">
                        <h6>Forgot username or passowrd</h6>
                    </a>
                </div>

                <div class="row d-flex justify-content-center mt-3">
                    <div class="col-4">
                        <hr>
                    </div>
                    <div class="col-4 text-center">Or Login using</div>
                    <div class="col-4">
                        <hr>
                    </div>
                </div>

                <div class="d-flex justify-content-between mt-3">
                    <div #googleButton></div>
                    <div style="text-align: center; width: 180px;"
                        class="btn btn-primary btn-sm"
                        (click)="loginWithFacebook()">
                        <i class="fa fa-facebook">&nbsp;Facebook</i>
                    </div>
                </div>
            </main>
        </div>
    </div>
</div>
