<div class="container">
    <div class="d-flex justify-content-center" *ngIf="requestCompleted === true">
        <div class="col-12 col-lg-5">
            <main class="form-signin">
                <form [formGroup]="resetPasswordForm" class="form-signin"
                    (ngSubmit)="resetPassword()" autocomplete="off">
                    <div class="text-center mb-4">
                        <h1 class="h3 mb-3 font-weight-normal">
                            Change your password
                        </h1>
                    </div>
    
                    <div class="form-floating mb-3">
                        <input formControlName="username" class="form-control"
                            placeholder="Username">
                        <label for="username">Username</label>
                    </div>
    
                    <div class="form-floating mb-3">
                        <input formControlName="email" type="text"
                            class="form-control" placeholder="Email">
                        <label for="email">Email</label>
                    </div>
    
                    <app-text-input
                        [formControl]="$any(resetPasswordForm.controls['newPassword'])"
                        [label]="'New Password'"
                        [submitted]="submitted"
                        [invalidPatternMessage]="'Password must be between 6-15 characters in length.'"
                        [type]="'password'"></app-text-input>
    
                    <app-text-input
                        [formControl]="$any(resetPasswordForm.controls['confirmPassword'])"
                        [label]="'Confirm Password'"
                        [submitted]="submitted"
                        [type]="'password'"></app-text-input>
    
                    <div class="form-floating" *ngIf="apiResponse">
                        <app-validation-messages
                            [apiResponse]="apiResponse"></app-validation-messages>
                    </div>
    
                    <div class="row">
                        <div class="col-6">
                            <div class="d-grid">
                                <button class="btn btn-block btn-success"
                                    type="submit">Change password</button>
                            </div>
                        </div>
                        <div class="col-6">
                            <div class="d-grid">
                                <button class="btn btn-block btn-danger"
                                    type="button" (click)="cancel()">Cancel</button>
                            </div>
                        </div>
                    </div>
    
                </form>
            </main>
        </div>
    </div>
</div>
